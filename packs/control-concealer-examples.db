{"name":"(CC)Copy Controls to Users","type":"script","author":"omJOq3hetMMPzQq1","img":"icons/svg/upgrade.svg","scope":"global","command":"(async ()=>{\n\tlet copyUser = \"Player2\";\n\tlet targetUsers = [\"Player3\", \"Player4\"];\n\t\n\tconst source = game.users.find(u =>{return u.data.name === copyUser});\n\tconst targets = game.users.filter(u =>{return targetUsers.includes(u.data.name)});\n\tconst sourceFlag = source.data.flags['control-concealer'];\n\tfor (let i = 0; i < targets.length; i++) {\n\t\tconst targetUser = targets[i];\n\t\tawait targetUser.update({'flags.-=control-concealer': null});\n\t\tawait targetUser.update({'flags.control-concealer': sourceFlag});\n\t\tconsole.log(\"Updated User:\" + targetUser.data.name);\n\t}\n})();","folder":null,"sort":0,"permission":{"default":0,"omJOq3hetMMPzQq1":3},"flags":{"core":{"sourceId":"Macro.jp7CTzMBc7s07qCc"}},"_id":"L6DhicvKJJFOBLuz"}
